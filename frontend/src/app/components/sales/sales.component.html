<div class="max-w-7xl mx-auto p-6 space-y-6">

  <div class="bg-white shadow-lg rounded-2xl p-6 border">
    <h2 class="text-xl font-semibold text-gray-700">Total Sales</h2>
    <p class="text-3xl font-bold text-green-600 mt-2">
      ₹{{ totalSalesAmount }}
    </p>
  </div>


  <div *ngIf="loading" class="text-center text-gray-500 text-lg">
    Loading sales...
  </div>


  <div *ngIf="!loading" class="bg-white shadow-lg rounded-2xl overflow-hidden border">

    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">

        <thead class="bg-gray-100">
          <tr class="text-left text-sm font-semibold text-gray-600 uppercase tracking-wider">

            <th class="px-6 py-4">Product</th>
            <th class="px-6 py-4">Order ID</th>
            <th class="px-6 py-4">Buyer</th>
            <th class="px-6 py-4">Price</th>
            <th class="px-6 py-4">Quantity</th>
            <th class="px-6 py-4">Total</th>
            <th class="px-6 py-4">Date</th>

          </tr>
        </thead>


        <tbody class="divide-y divide-gray-100 text-sm text-gray-700">

            <tr *ngFor="let sale of orders"
                class="hover:bg-gray-50 transition">

                <td class="px-6 py-4">
                <div class="flex items-center gap-4">

                    <img
                    [src]="'assets/products/' + sale.productId + '.jpg'"
                    class="w-14 h-14 rounded-xl object-cover border"
                    />

                    <div>
                    <p class="font-semibold text-gray-800">
                        {{ sale.name }}
                    </p>
                    <p class="text-xs text-gray-400">
                        ID: {{ sale.productId }}
                    </p>
                    </div>

                </div>
                </td>

                <td class="px-6 py-4 font-medium text-gray-600">
                {{ sale.orderId }}
                </td>

                <td class="px-6 py-4">
                {{ sale.buyerName }}
                </td>

                <td class="px-6 py-4 font-medium">
                ₹{{ sale.price }}
                </td>

                <td class="px-6 py-4">
                {{ sale.quantity }}
                </td>

                <td class="px-6 py-4 font-semibold text-green-600">
                ₹{{ sale.totalPrice }}
                </td>

                <td class="px-6 py-4 text-gray-500">
                {{ sale.createdAt | date:'medium' }}
                </td>

            </tr>

            </tbody>

      </table>
    </div>

  </div>

  <div *ngIf="!loading" class="grid md:grid-cols-2 gap-6 mt-6">

  <div class="bg-white p-5 rounded-xl shadow">
    <h3 class="text-lg font-semibold mb-3">
      Products Sold (Last 7 Days)
    </h3>

    <canvas id="productsChart"></canvas>
  </div>

  <div class="bg-white p-5 rounded-xl shadow">
    <h3 class="text-lg font-semibold mb-3">
      Sales Amount (Last 7 Days)
    </h3>

    <canvas id="salesChart"></canvas>
  </div>

</div>

</div>